{% extends "_layout.html" %}

{% block title %}Insights Spotify{% endblock %}

{% block content %}
<div class="content-header">
    <h1 class="page-title">Overall Performance Dashboard</h1>
</div>

<section class="kpi-grid">
    <div class="kpi-card">
        <h2><i class="fas fa-music icon"></i> Total Tracks Analyzed</h2>
        <p>{{ kpis.total_tracks }}</p>
    </div>
    <div class="kpi-card">
        <h2><i class="fas fa-users icon"></i> Unique Artists</h2>
        <p>{{ kpis.total_artists }}</p>
    </div>
    <div class="kpi-card">
        <h2><i class="fas fa-headphones-alt icon"></i> Average Streams</h2>
        <p>{{ kpis.average_streams }}</p>
    </div>
    <div class="kpi-card">
        <h2><i class="fas fa-star icon"></i> Most Popular Artist</h2>
        <p>{{ kpis.most_popular_artist }}</p>
    </div>
</section>

<section class="card">
    <h2>Top 10 Most Streamed Songs (Global)</h2>
    <table>
        <thead>
            <tr>
                <th>#</th>
                <th>Track</th>
                <th>Artist(s)</th>
                <th>Streams</th>
            </tr>
        </thead>
        <tbody>
            {% for track in top_tracks %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ track['track'] }}</td>
                <td>{{ track['artist'] }}</td>
                <td>{{ track['spotify_streams'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}