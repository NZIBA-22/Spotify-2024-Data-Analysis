{% extends "_layout.html" %}

{% block title %}Insights Dashboard{% endblock %}

{% block content %}
<h1 class="page-title">Overall Performance Dashboard</h1>
<section class="kpi-grid">
    <div class="kpi-card">
        <h2>Total Tracks</h2>
        <p>{{ kpis.total_tracks }}</p>
    </div>
    <div class="kpi-card">
        <h2>Unique Artists</h2>
        <p>{{ kpis.total_artists }}</p>
    </div>
    <div class="kpi-card">
        <h2>Average Streams</h2>
        <p>{{ kpis.average_streams }}</p>
    </div>
    <div class="kpi-card">
        <h2>Most Popular Artist</h2>
        <p>{{ kpis.most_popular_artist }}</p>
    </div>
</section>

<section class="card">
    <h2>Top 10 Most Streamed Songs (Global)</h2>
    <table>
        <thead>
            <tr>
                <th>Track</th>
                <th>Artist(s)</th>
                <th>Streams</th>
            </tr>
        </thead>
        <tbody>
            {% for track in top_tracks %}
            <tr>
                <td>{{ track['track'] }}</td>
                <td>{{ track['artist'] }}</td>
                <td>{{ track['spotify_streams'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}
